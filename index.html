<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activate Conversational AI Agent</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }
        .loading {
            font-size: 20px;
            color: #007bff;
        }
    </style>
</head>
<body>

    <div class="loading" id="loading-message">
        Activating your AI agent, please wait...
    </div>

    <script>
        const apiUrl = "https://elevenlabs.io/app/talk-to?agent_id=tG9uM0Gz6OeuPuR8BpBI";

        // Example variables
        const user_name = "John Doe";
        const user_email = "john.doe@example.com";

        // Function to trigger the API call and initialize the agent
        function initializeAgent() {
            // Update the loading message while waiting for the API to respond
            document.getElementById('loading-message').textContent = "AI agent is being activated...";

            // Call the Eleven Labs API with user details
            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    user_name: user_name,
                    user_email: user_email
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log("Agent initialized:", data);
                document.getElementById('loading-message').textContent = "AI agent activated successfully!";
            })
            .catch(error => {
                console.error("Error initializing agent:", error);
                document.getElementById('loading-message').textContent = "Error activating AI agent. Please try again.";
            });
        }

        // Initialize the agent when the page loads
        window.onload = initializeAgent;
    </script>

</body>
</html>
